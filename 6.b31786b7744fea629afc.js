(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{jkDv:function(e,t,o){"use strict";o.r(t),o.d(t,"AdminModule",(function(){return we}));var i=o("ofXK"),r=o("tyNb"),a=o("fXoL"),n=o("3Pt+"),c=o("I/3d"),l=o("7zfz"),s=o("eQXG"),p=o("jIHw"),b=o("7kUa");function u(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",9),a.Qb(2,"div",10),a.Qb(3,"label",11),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",12),a.Pb(),a.Qb(6,"div",10),a.Qb(7,"label",11),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",13),a.Pb(),a.Qb(10,"div",14),a.Qb(11,"button",15),a.Xb("click",(function(){return a.uc(e),a.ac().addFormArray("category")})),a.Pb(),a.Qb(12,"button",16),a.Xb("click",(function(){a.uc(e);const o=t.index;return a.ac().removeFormArray("category",o)})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e),a.zb(2),a.ic("for",e),a.zb(4),a.ic("for",e+"value")}}function d(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",9),a.Qb(2,"div",10),a.Qb(3,"label",11),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",12),a.Pb(),a.Qb(6,"div",10),a.Qb(7,"label",11),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",13),a.Pb(),a.Qb(10,"div",14),a.Qb(11,"button",15),a.Xb("click",(function(){return a.uc(e),a.ac().addFormArray("subCategory")})),a.Pb(),a.Qb(12,"button",16),a.Xb("click",(function(){a.uc(e);const o=t.index;return a.ac().removeFormArray("subCategory",o)})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e),a.zb(2),a.ic("for",e),a.zb(4),a.ic("for",e+"value")}}function m(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",17),a.Xb("click",(function(){return a.uc(e),a.ac().handleDelete()})),a.Pb()}}let f=(()=>{class e{constructor(e,t,o,i,r){this.formBuilder=e,this.activatedroute=t,this.firestore=o,this.messageService=i,this.dropdownservice=r,this.isEditMode=!1,this.dropForm=e.group({category:e.array([e.group({label:[""],value:[""]})]),subCategory:e.array([e.group({label:[""],value:[""]})])})}ngOnInit(){console.log(this.activatedroute.url),"/admin/edit-acc-dropDown"===this.activatedroute.url&&(this.isEditMode=!0,this.dropdownservice.accessoriesOption$.subscribe(e=>{console.log(e),this.dropForm.reset(),e&&Object.keys(e).forEach(t=>{console.log(t),this[t].removeAt(0),e[t].forEach(e=>{this[t].push(this.formBuilder.group({label:e.label,value:e.value}))})})}),console.log(history.state))}createLaptop(){const e=this.dropForm.getRawValue();return console.log(e),this.isEditMode?this.firestore.doc("options/accessories").update(e).then(e=>{this.messageService.add({severity:"success",summary:"Successfully Updated"}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)})):this.firestore.collection("options").doc("accessories").set(e).then(e=>{this.messageService.add({severity:"success",summary:"Successfully Created"}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))}get subCategory(){return this.dropForm.get("subCategory")}get category(){return this.dropForm.get("category")}newSpec(){return this.formBuilder.group({label:"",value:""})}addFormArray(e){this[e].push(this.newSpec())}removeFormArray(e,t){this[e].controls.length>1&&this[e].removeAt(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(n.b),a.Kb(r.b),a.Kb(c.a),a.Kb(l.c),a.Kb(s.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-add-accessories-dropdown"]],decls:15,vars:5,consts:[[1,"p-fluid","p-formgrid","p-grid",3,"formGroup","ngSubmit"],[1,"p-col-12"],["formGroupName","category"],[4,"ngFor","ngForOf"],["formGroupName","subCategory"],[1,"p-d-flex","p-col-12"],["pButton","","pRipple","","type","submit","label","Submit",1,"p-button-raised","p-mr-3",3,"disabled"],["pButton","","pRipple","","type","button","label","Clear",1,"p-button-raised","p-button-danger","p-mr-3"],["pButton","","pRipple","","type","button","label","Delete","class","p-button-raised p-button-danger ",3,"click",4,"ngIf"],[1,"p-grid","p-col-12",3,"formGroupName"],[1,"p-field","p-col-12","p-md-4"],[3,"for"],["formControlName","label","type","text","pInputText",""],["formControlName","value","type","text","pInputText",""],[1,"p-field","p-col-12","p-md-4","p-as-end"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-success","p-mr-3",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-danger",3,"click"],["pButton","","pRipple","","type","button","label","Delete",1,"p-button-raised","p-button-danger",3,"click"]],template:function(e,t){1&e&&(a.Qb(0,"form",0),a.Xb("ngSubmit",(function(){return t.createLaptop()})),a.Qb(1,"h3",1),a.Dc(2,"category"),a.Pb(),a.Lb(3,"br"),a.Ob(4,2),a.Bc(5,u,13,3,"ng-container",3),a.Nb(),a.Qb(6,"h3",1),a.Dc(7,"Sub Category"),a.Pb(),a.Lb(8,"br"),a.Ob(9,4),a.Bc(10,d,13,3,"ng-container",3),a.Nb(),a.Qb(11,"div",5),a.Lb(12,"button",6),a.Lb(13,"button",7),a.Bc(14,m,1,0,"button",8),a.Pb(),a.Pb()),2&e&&(a.ic("formGroup",t.dropForm),a.zb(5),a.ic("ngForOf",t.category.controls),a.zb(5),a.ic("ngForOf",t.subCategory.controls),a.zb(2),a.ic("disabled",t.dropForm.invalid),a.zb(2),a.ic("ngIf",t.isEditMode))},directives:[n.v,n.l,n.e,n.f,i.l,p.b,i.m,n.a,n.k,n.d,b.a],styles:[""]}),e})();function h(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(o[i[r]]=e[i[r]])}return o}var g=o("itXk");let y=(()=>{class e{constructor(e){this.formBuild=e}createFormGroup(){return this.formBuild.group({name:["",n.t.required],display_name:["",n.t.required],discription:[""],purchasable:["yes"],category:[{value:"laptop",disabled:!0}],popularity:[""],summary:[""],remarks:["Quality was in pretty great condition. Has a few slight scratches and a tiny dent but that to be expected"],brand:["",n.t.required],variantModel:["",n.t.required],color:["",n.t.required],os:["",n.t.required],price:this.formBuild.group({currencyIso:["INR"],price:[0,n.t.required],formattedValue:[{value:null,disabled:!0}],minQuantity:null,maxQuantity:null,discount:[null,n.t.required]}),imageUrl:this.formBuild.array([],n.t.required),displayImage:[""],cashOnDelivery:[!0],pickUpFromStoreEnabled:[!0],payAtStoreEnabled:[!0],shipmentEnabled:[!0],stock:[1,n.t.required],futureStocks:[null],isPreOrderEnabled:[!1],averageRating:[null],numberOfReviews:[null],otherSpec:this.formBuild.array([this.formBuild.group({key:[""],value:[""]})]),specification:this.formBuild.group({resolution:["",n.t.required],gpu:[""],height:["",n.t.required],width:["",n.t.required],manufactureWarranty:[null,n.t.required],weight:["",n.t.required],screenSize:["",n.t.required],series:[""],touch:[!1],processor:["",n.t.required],memory:["",n.t.required],hardDisk:["",n.t.required]})})}createAccessoriesForm(){return this.formBuild.group({subTitle:["",n.t.required],display_name:["",n.t.required],discription:[""],purchasable:["yes"],category:["accessories"],subCategory:["",n.t.required],childCatg:["",n.t.required],tags:[""],popularity:[""],remarks:[""],summary:["",n.t.required],brand:["",n.t.required],color:["",n.t.required],price:this.formBuild.group({currencyIso:["INR"],price:[1,n.t.required],formattedValue:[{value:null,disabled:!0}],minQuantity:null,maxQuantity:null,discount:[null,n.t.required]}),imageUrl:this.formBuild.array([],n.t.required),displayImage:[""],cashOnDelivery:[!0],pickUpFromStoreEnabled:[!0],payAtStoreEnabled:[!0],shipmentEnabled:[!0],stock:5,futureStocks:[""],isPreOrderEnabled:[!1],averageRating:[""],numberOfReviews:[""],specification:this.formBuild.array([this.formBuild.group({key:[""],value:[""]})],n.t.required)})}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(n.b))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=o("Gxio"),P=o("zFJ7"),Q=o("dgC2"),D=o("lVkt"),S=o("arFO"),k=o("RGqm"),F=o("Ji6n"),L=o("Ks7X"),N=o("NCSE"),I=o("vkgz"),x=o("nYR2"),w=o("Vaw3"),C=o("+DzE");function O(e,t){if(1&e&&(a.Qb(0,"div"),a.Lb(1,"p-progressBar",1),a.Qb(2,"li"),a.Dc(3),a.bc(4,"number"),a.Pb(),a.Pb()),2&e){const e=t.ngIf,o=a.ac();a.zb(1),a.ic("value",e),a.zb(2),a.Hc("",o.file.name," - ",o.file.size," bytes Uploading completed: ",a.cc(4,4,e),"%")}}let z=(()=>{class e{constructor(e,t){this.storage=e,this.db=t,this.imageUrl=new a.n}ngOnInit(){console.log(this.file,"file--\x3e"),this.startUpload()}startUpload(){const e=`test/${Date.now()}_${this.file.name}`,t=this.storage.ref(e);this.task=this.storage.upload(e,this.file),this.percentage=this.task.percentageChanges(),console.log(this.percentage,"percentage"),this.snapshot=this.task.snapshotChanges().pipe(Object(I.a)(e=>console.log(e,"post")),Object(x.a)(()=>{return e=this,void 0,i=function*(){this.downloadURL=yield t.getDownloadURL().toPromise(),this.imageUrl.emit(yield t.getDownloadURL().toPromise()),console.log("downloadURL")},new((o=void 0)||(o=Promise))((function(t,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function n(e){try{c(i.throw(e))}catch(t){r(t)}}function c(e){var i;e.done?t(e.value):(i=e.value,i instanceof o?i:new o((function(e){e(i)}))).then(a,n)}c((i=i.apply(e,[])).next())}));var e,o,i})),this.task.snapshotChanges().subscribe(e=>{"success"===e.state&&(e.ref.getDownloadURL().then(e=>this.imageUrl.emit(e)),console.log(e,"sib"))})}isActive(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(w.a),a.Kb(c.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-upload-image-task"]],inputs:{file:"file"},outputs:{imageUrl:"imageUrl"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(a.Bc(0,O,5,6,"div",0),a.bc(1,"async")),2&e&&a.ic("ngIf",a.cc(1,1,t.percentage))},directives:[i.m,C.a],pipes:[i.b,i.f],styles:[""]}),e})();function B(e,t){1&e&&(a.Qb(0,"h3",44),a.Dc(1,"Image Upload"),a.Pb())}function E(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",55),a.Qb(1,"app-upload-image-task",56),a.Xb("imageUrl",(function(t){return a.uc(e),a.ac(5).pushImageUrl(t)})),a.Pb(),a.Pb()}if(2&e){const e=t.$implicit;a.zb(1),a.ic("file",e)}}function U(e,t){if(1&e&&(a.Qb(0,"ul"),a.Bc(1,E,2,1,"div",54),a.Pb()),2&e){const e=a.ac(4);a.zb(1),a.ic("ngForOf",e.uploadedFiles)}}function R(e,t){if(1&e&&a.Bc(0,U,2,1,"ul",53),2&e){const e=a.ac(3);a.ic("ngIf",e.uploadedFiles.length>0)}}function T(e,t){if(1&e){const e=a.Rb();a.Qb(0,"p-fileUpload",51),a.Xb("uploadHandler",(function(t){return a.uc(e),a.ac(2).myUploader(t)})),a.Bc(1,R,1,1,"ng-template",52),a.Pb()}}function A(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",57),a.Qb(2,"div",18),a.Qb(3,"label",58),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",59),a.Pb(),a.Qb(6,"div",18),a.Qb(7,"label",60),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",61),a.Pb(),a.Qb(10,"div",62),a.Qb(11,"button",63),a.Xb("click",(function(){return a.uc(e),a.ac(2).addSpec()})),a.Pb(),a.Qb(12,"button",64),a.Xb("click",(function(){return a.uc(e),a.ac(2).removeSpec()})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e)}}function G(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",65),a.Xb("click",(function(){return a.uc(e),a.ac(2).handleDelete()})),a.Pb()}}const M=function(){return{height:"280px"}};function V(e,t){if(1&e){const e=a.Rb();a.Qb(0,"form",2),a.Xb("ngSubmit",(function(){return a.uc(e),a.ac().createLaptop()})),a.Qb(1,"div",3),a.Qb(2,"label",4),a.Dc(3,"Name"),a.Pb(),a.Lb(4,"input",5),a.Pb(),a.Qb(5,"div",3),a.Qb(6,"label",6),a.Dc(7,"Display Name"),a.Pb(),a.Lb(8,"input",7),a.Pb(),a.Qb(9,"div",8),a.Qb(10,"label",9),a.Dc(11,"Description"),a.Pb(),a.Lb(12,"textarea",10),a.Pb(),a.Qb(13,"div",8),a.Qb(14,"label",9),a.Dc(15,"Summary"),a.Pb(),a.Lb(16,"p-editor",11),a.Pb(),a.Qb(17,"div",12),a.Qb(18,"label",13),a.Dc(19,"Category"),a.Pb(),a.Lb(20,"p-multiSelect",14),a.Pb(),a.Qb(21,"div",15),a.Qb(22,"label",16),a.Dc(23,"Sub Category"),a.Pb(),a.Lb(24,"p-dropdown",17),a.Pb(),a.Qb(25,"div",18),a.Qb(26,"label",19),a.Dc(27,"Popularity"),a.Pb(),a.Lb(28,"p-multiSelect",20),a.Pb(),a.Qb(29,"div",15),a.Qb(30,"label",21),a.Dc(31,"Brand"),a.Pb(),a.Lb(32,"input",22),a.Pb(),a.Qb(33,"div",23),a.Qb(34,"label",21),a.Dc(35,"Tag"),a.Pb(),a.Lb(36,"p-chips",24),a.Pb(),a.Qb(37,"div",25),a.Qb(38,"label",26),a.Dc(39,"Stock"),a.Pb(),a.Lb(40,"input",27),a.Pb(),a.Qb(41,"div",15),a.Qb(42,"label",28),a.Dc(43,"Color"),a.Pb(),a.Lb(44,"input",29),a.Pb(),a.Qb(45,"div",18),a.Qb(46,"label",30),a.Dc(47,"Remarks"),a.Pb(),a.Lb(48,"input",31),a.Pb(),a.Qb(49,"div",32),a.Lb(50,"p-checkbox",33),a.Qb(51,"label",34),a.Dc(52,"New Laptop"),a.Pb(),a.Pb(),a.Ob(53,35),a.Qb(54,"div",18),a.Qb(55,"label",36),a.Dc(56,"Price"),a.Pb(),a.Lb(57,"p-inputNumber",37),a.Pb(),a.Qb(58,"div",18),a.Qb(59,"label",38),a.Dc(60,"Discount"),a.Pb(),a.Lb(61,"p-inputNumber",39),a.Pb(),a.Qb(62,"div",18),a.Qb(63,"label",40),a.Dc(64,"Final Price"),a.Pb(),a.Lb(65,"p-inputNumber",41),a.Pb(),a.Nb(),a.Bc(66,B,2,0,"h3",42),a.Bc(67,T,2,0,"p-fileUpload",43),a.Qb(68,"h3",44),a.Dc(69,"Specification"),a.Pb(),a.Lb(70,"br"),a.Ob(71,45),a.Bc(72,A,13,1,"ng-container",46),a.Nb(),a.Qb(73,"div",47),a.Lb(74,"button",48),a.Lb(75,"button",49),a.Bc(76,G,1,0,"button",50),a.Pb(),a.Pb()}if(2&e){const e=a.ac();a.ic("formGroup",e.laptopForm),a.zb(16),a.zc(a.jc(17,M)),a.zb(4),a.ic("showHeader",!1)("options",e.options.category),a.zb(4),a.ic("options",e.options.subCategory),a.zb(4),a.ic("showHeader",!1)("options",e.popularityOption),a.zb(29),a.ic("showButtons",!1),a.zb(4),a.ic("showButtons",!0)("min",0)("max",100),a.zb(5),a.ic("ngIf",!e.isEditMode),a.zb(1),a.ic("ngIf",!e.isEditMode),a.zb(5),a.ic("ngForOf",e.specification.controls),a.zb(2),a.ic("disabled",e.laptopForm.invalid),a.zb(2),a.ic("ngIf",e.isEditMode)}}let X=(()=>{class e{constructor(e,t,o,i,r,a){this.formBuilder=e,this.formService=t,this.firestore=o,this.messageService=i,this.activatedroute=r,this.service=a,this.loading=!0,this.isEditMode=!1,this.uploadedFiles=[],this.isFirstImage=!0}ngOnInit(){this.service.accessoriesOption$.subscribe(e=>{e&&(this.options=e,this.loading=!1)}),this.service.product$.subscribe(e=>{e&&(this.popularityOption=e.popularity,this.loading=!1)}),this.laptopForm=this.formService.createAccessoriesForm(),history.state.hasOwnProperty("display_name")&&(this.isEditMode=!0,this.laptopForm.patchValue(history.state),this.laptopForm.removeControl("imageUrl"),this.specification.removeAt(0),history.state.specification.forEach(e=>{this.specification.push(this.formBuilder.group({key:e.key,value:e.value}))})),console.log(this.laptopForm),this.laptopForm.valueChanges.subscribe(e=>{console.log(e,"form",this.laptopForm)});const e=this.laptopForm.get(["price","price"]).valueChanges,t=this.laptopForm.get(["price","discount"]).valueChanges;Object(g.a)([e,t]).subscribe(e=>{const[t,o]=e;if(t>0&&o>0){const e=t-t*o/100;this.laptopForm.get("price").patchValue({formattedValue:e}),console.log(e,"price")}else t>0&&0===o&&this.laptopForm.get("price").patchValue({formattedValue:t})})}myUploader(e){console.log(e);for(let t of e.files)this.uploadedFiles.push(t)}pushImageUrl(e){this.imageArray.push(this.formBuilder.control(e)),this.isFirstImage&&this.laptopForm.patchValue({displayImage:e}),this.isFirstImage=!1}get imageArray(){return this.laptopForm.get("imageUrl")}createLaptop(){const e=this.laptopForm.getRawValue();if(this.isEditMode){const t=h(e,["imageUrl","displayImage"]);return console.log(t,"final",history.state.hasOwnProperty("display_name")),this.firestore.doc("laptop/"+history.state.id).update(t).then(e=>{this.messageService.add({severity:"success",summary:"Successfully Updated",detail:t.name}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))}return this.firestore.collection("accessories").add(e).then(e=>{this.messageService.add({severity:"success",summary:"Successfully Created",detail:e.id}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))}handleDelete(){this.firestore.doc("laptop/"+history.state.id).delete().then(e=>{this.messageService.add({severity:"success",summary:"Successfully Deleted",detail:history.state.name}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))}get specification(){return this.laptopForm.get("specification")}newSpec(){return this.formBuilder.group({key:"",value:""})}addSpec(){this.specification.push(this.newSpec())}removeSpec(e){this.specification.controls.length>1&&this.specification.removeAt(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(n.b),a.Kb(y),a.Kb(c.a),a.Kb(l.c),a.Kb(r.b),a.Kb(s.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-add-accessories"]],decls:4,vars:1,consts:[[1,"p-card","p-p-3"],["autocomplete","off","class","p-fluid p-formgrid p-grid",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",1,"p-fluid","p-formgrid","p-grid",3,"formGroup","ngSubmit"],[1,"p-field","p-col-12","p-md-6"],["for","subTitle"],["id","subTitle","formControlName","subTitle","type","text","pInputText",""],["for","display_name"],["id","display_name","formControlName","display_name","type","text","pInputText",""],[1,"p-field","p-col-12"],["for","discription"],["id","discription","formControlName","discription","type","text","rows","4","pInputTextarea",""],["formControlName","summary"],[1,"p-field","p-col-12","p-md-5"],["for","subCategory"],["inputId","subCategory","formControlName","subCategory","defaultLabel","Select",3,"showHeader","options"],[1,"p-field","p-col-12","p-md-3"],["for","childCatg"],["inputId","childCatg","formControlName","childCatg","placeholder","Select",3,"options"],[1,"p-field","p-col-12","p-md-4"],["for","popularity"],["inputId","popularity","formControlName","popularity","defaultLabel","Select",3,"showHeader","options"],["for","brand"],["id","brand","formControlName","brand","type","text","pInputText",""],[1,"p-field","p-col-9"],["formControlName","tags","separator",","],[1,"p-field","p-col-12","p-md-2"],["for","stock"],["id","stock","formControlName","stock","type","text","pInputText",""],["for","color"],["id","color","formControlName","color","type","text","pInputText",""],["for","remarks"],["id","remarks","formControlName","remarks","type","text","pInputText",""],[1,"p-field-checkbox","p-col-3"],["binary","true","formControlName","isPreOrderEnabled","inputId","isPreOrderEnabled"],["for","isPreOrderEnabled"],["formGroupName","price"],["for","price"],["formControlName","price","mode","decimal","inputId","price",3,"showButtons"],["for","discount"],["formControlName","discount","mode","decimal","inputId","discount",3,"showButtons","min","max"],["for","formattedValue"],["formControlName","formattedValue","mode","currency","currency","INR","locale","en-IN","inputId","formattedValue"],["class","p-col-12",4,"ngIf"],["class","p-col-12","name","myfile[]","customUpload","true","multiple","multiple","accept","image/*","maxFileSize","1000000",3,"uploadHandler",4,"ngIf"],[1,"p-col-12"],["formGroupName","specification"],[4,"ngFor","ngForOf"],[1,"p-d-flex","p-col-12"],["pButton","","pRipple","","type","submit","label","Submit",1,"p-button-raised","p-mr-3",3,"disabled"],["pButton","","pRipple","","type","button","label","Clear",1,"p-button-raised","p-button-danger","p-mr-3"],["pButton","","pRipple","","type","button","label","Delete","class","p-button-raised p-button-danger ",3,"click",4,"ngIf"],["name","myfile[]","customUpload","true","multiple","multiple","accept","image/*","maxFileSize","1000000",1,"p-col-12",3,"uploadHandler"],["pTemplate","content"],[4,"ngIf"],["style","width: 100%;",4,"ngFor","ngForOf"],[2,"width","100%"],[3,"file","imageUrl"],[1,"p-grid","p-col-12",3,"formGroupName"],["for","key"],["id","key","formControlName","key","type","text","pInputText",""],["for","value"],["id","value","formControlName","value","type","text","pInputText","",2,"width","100%"],[1,"p-field","p-col-12","p-md-4","p-as-end"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-success","p-mr-3",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-danger",3,"click"],["pButton","","pRipple","","type","button","label","Delete",1,"p-button-raised","p-button-danger",3,"click"]],template:function(e,t){1&e&&(a.Lb(0,"p-toast"),a.Qb(1,"h3",0),a.Dc(2,"Add Accessories Details"),a.Pb(),a.Bc(3,V,77,18,"form",1)),2&e&&(a.zb(3),a.ic("ngIf",!t.loading))},directives:[v.a,i.m,n.v,n.l,n.e,n.a,n.k,n.d,b.a,P.a,Q.a,D.a,S.a,k.a,F.a,n.f,L.a,i.l,p.b,N.a,l.e,z],styles:[".ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-bottom:5px solid #a94442}"]}),e})();function q(e,t){1&e&&(a.Qb(0,"h3",39),a.Dc(1,"Image Upload"),a.Pb())}function H(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",50),a.Qb(1,"app-upload-image-task",51),a.Xb("imageUrl",(function(t){return a.uc(e),a.ac(4).pushImageUrl(t)})),a.Pb(),a.Pb()}if(2&e){const e=t.$implicit;a.zb(1),a.ic("file",e)}}function K(e,t){if(1&e&&(a.Qb(0,"ul"),a.Bc(1,H,2,1,"div",49),a.Pb()),2&e){const e=a.ac(3);a.zb(1),a.ic("ngForOf",e.uploadedFiles)}}function _(e,t){if(1&e&&a.Bc(0,K,2,1,"ul",48),2&e){const e=a.ac(2);a.ic("ngIf",e.uploadedFiles.length>0)}}function j(e,t){if(1&e){const e=a.Rb();a.Qb(0,"p-fileUpload",46),a.Xb("uploadHandler",(function(t){return a.uc(e),a.ac().myUploader(t)})),a.Bc(1,_,1,1,"ng-template",47),a.Pb()}}function $(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",52),a.Qb(2,"div",24),a.Qb(3,"label",53),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",54),a.Pb(),a.Qb(6,"div",24),a.Qb(7,"label",55),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",56),a.Pb(),a.Qb(10,"div",57),a.Qb(11,"button",58),a.Xb("click",(function(){return a.uc(e),a.ac().addSpec()})),a.Pb(),a.Qb(12,"button",59),a.Xb("click",(function(){return a.uc(e),a.ac().removeSpec()})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e)}}function W(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",60),a.Xb("click",(function(){return a.uc(e),a.ac().handleDelete()})),a.Pb()}}const J=function(){return{height:"280px"}};let Y=(()=>{class e{constructor(e,t,o,i,r){this.formBuilder=e,this.formService=t,this.firestore=o,this.messageService=i,this.activatedroute=r,this.categoryOption=[{label:"Laptop",value:"laptop"},{label:"acccessories",value:"acccessories"},{label:"desktop",value:"desktop"}],this.subCategoryOption=[{label:"All-In-One Computers",value:"allinone"},{label:"Tower Pc",value:"tower"},{label:"Mini/Stick PC",value:"mini"}],this.isEditMode=!1,this.popularityOption=[{label:"Trending",value:"trending"},{label:"Popular",value:"popular"},{label:"Flash Sale",value:"flashSale"}],this.brandOption=[{label:"Apple",value:"Apple"},{label:"HP",value:"HP"},{label:"Dell",value:"Dell"},{label:"Lenovo",value:"Lenovo"},{label:"Samsung",value:"SAMSUNG"},{label:"Asus",value:"Asus"},{label:"Mi",value:"Mi"},{label:"Honor",value:"Honor"}],this.variantOption=[{name:"Arizona",code:"Arizona"},{name:"California",value:"California"},{name:"Florida",code:"Florida"},{name:"Ohio",code:"Ohio"},{name:"Washington",code:"Washington"}],this.uploadedFiles=[],this.isFirstImage=!0}ngOnInit(){this.laptopForm=this.formService.createAccessoriesForm(),history.state.hasOwnProperty("display_name")&&(this.isEditMode=!0,this.laptopForm.patchValue(history.state),this.laptopForm.removeControl("imageUrl"),this.specification.removeAt(0),history.state.specification.forEach(e=>{this.specification.push(this.formBuilder.group({key:e.key,value:e.value}))})),console.log(this.laptopForm),this.laptopForm.valueChanges.subscribe(e=>{console.log(e,"form",this.laptopForm)});const e=this.laptopForm.get(["price","price"]).valueChanges,t=this.laptopForm.get(["price","discount"]).valueChanges;Object(g.a)([e,t]).subscribe(e=>{const[t,o]=e;if(t>0&&o>0){const e=t-t*o/100;this.laptopForm.get("price").patchValue({formattedValue:e}),console.log(e,"price")}else t>0&&0===o&&this.laptopForm.get("price").patchValue({formattedValue:t})})}myUploader(e){console.log(e);for(let t of e.files)this.uploadedFiles.push(t)}pushImageUrl(e){this.imageArray.push(this.formBuilder.control(e)),this.isFirstImage&&this.laptopForm.patchValue({displayImage:e}),this.isFirstImage=!1}get imageArray(){return this.laptopForm.get("imageUrl")}createLaptop(){const e=this.laptopForm.getRawValue();if(this.isEditMode){const t=h(e,["imageUrl","displayImage"]);return console.log(t,"final",history.state.hasOwnProperty("display_name")),this.firestore.doc("desktop/"+history.state.id).update(t).then(e=>{this.messageService.add({severity:"success",summary:"Successfully Updated",detail:t.name}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))}return this.firestore.collection("desktop").add(e).then(e=>{this.messageService.add({severity:"success",summary:"Successfully Created",detail:e.id}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))}handleDelete(){this.firestore.doc("desktop/"+history.state.id).delete().then(e=>{this.messageService.add({severity:"success",summary:"Successfully Deleted",detail:history.state.name}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))}get specification(){return this.laptopForm.get("specification")}newSpec(){return this.formBuilder.group({key:"",value:""})}addSpec(){this.specification.push(this.newSpec())}removeSpec(e){this.specification.controls.length>1&&this.specification.removeAt(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(n.b),a.Kb(y),a.Kb(c.a),a.Kb(l.c),a.Kb(r.b))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-add-desktop"]],decls:76,vars:18,consts:[[1,"p-card","p-p-3"],[1,"p-fluid","p-formgrid","p-grid",3,"formGroup","ngSubmit"],[1,"p-field","p-col-12","p-md-6"],["for","subTitle"],["id","subTitle","formControlName","subTitle","type","text","pInputText",""],["for","display_name"],["id","display_name","formControlName","display_name","type","text","pInputText",""],[1,"p-field","p-col-12"],["for","discription"],["id","discription","formControlName","discription","type","text","rows","4","pInputTextarea",""],["formControlName","summary"],[1,"p-field","p-col-12","p-md-3"],["for","category"],["inputId","category","formControlName","category","placeholder","Select",3,"options"],["inputId","category","formControlName","subCategory","placeholder","Select",3,"options"],["for","popularity"],["inputId","popularity","formControlName","popularity","defaultLabel","Select",3,"showHeader","options"],["for","brand"],["inputId","brand","formControlName","brand","placeholder","Select",3,"options"],[1,"p-field","p-col-12","p-md-2"],["for","stock"],["id","stock","formControlName","stock","type","text","pInputText",""],["for","color"],["id","color","formControlName","color","type","text","pInputText",""],[1,"p-field","p-col-12","p-md-4"],["for","remarks"],["id","remarks","formControlName","remarks","type","text","pInputText",""],[1,"p-field-checkbox","p-col-3"],["binary","true","formControlName","isPreOrderEnabled","inputId","isPreOrderEnabled"],["for","isPreOrderEnabled"],["formGroupName","price"],["for","price"],["formControlName","price","mode","decimal","inputId","price",3,"showButtons"],["for","discount"],["formControlName","discount","mode","decimal","inputId","discount",3,"showButtons","min","max"],["for","formattedValue"],["formControlName","formattedValue","mode","currency","currency","INR","locale","en-IN","inputId","formattedValue"],["class","p-col-12",4,"ngIf"],["class","p-col-12","name","myfile[]","customUpload","true","multiple","multiple","accept","image/*","maxFileSize","1000000",3,"uploadHandler",4,"ngIf"],[1,"p-col-12"],["formGroupName","specification"],[4,"ngFor","ngForOf"],[1,"p-d-flex","p-col-12"],["pButton","","pRipple","","type","submit","label","Submit",1,"p-button-raised","p-mr-3",3,"disabled"],["pButton","","pRipple","","type","button","label","Clear",1,"p-button-raised","p-button-danger","p-mr-3"],["pButton","","pRipple","","type","button","label","Delete","class","p-button-raised p-button-danger ",3,"click",4,"ngIf"],["name","myfile[]","customUpload","true","multiple","multiple","accept","image/*","maxFileSize","1000000",1,"p-col-12",3,"uploadHandler"],["pTemplate","content"],[4,"ngIf"],["style","width: 100%;",4,"ngFor","ngForOf"],[2,"width","100%"],[3,"file","imageUrl"],[1,"p-grid","p-col-12",3,"formGroupName"],["for","key"],["id","key","formControlName","key","type","text","pInputText",""],["for","value"],["id","value","formControlName","value","type","text","pInputText","",2,"width","100%"],[1,"p-field","p-col-12","p-md-4","p-as-end"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-success","p-mr-3",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-danger",3,"click"],["pButton","","pRipple","","type","button","label","Delete",1,"p-button-raised","p-button-danger",3,"click"]],template:function(e,t){1&e&&(a.Lb(0,"p-toast"),a.Qb(1,"h3",0),a.Dc(2,"Add Desktop Details"),a.Pb(),a.Qb(3,"form",1),a.Xb("ngSubmit",(function(){return t.createLaptop()})),a.Qb(4,"div",2),a.Qb(5,"label",3),a.Dc(6,"Name"),a.Pb(),a.Lb(7,"input",4),a.Pb(),a.Qb(8,"div",2),a.Qb(9,"label",5),a.Dc(10,"Display Name"),a.Pb(),a.Lb(11,"input",6),a.Pb(),a.Qb(12,"div",7),a.Qb(13,"label",8),a.Dc(14,"Description"),a.Pb(),a.Lb(15,"textarea",9),a.Pb(),a.Qb(16,"div",7),a.Qb(17,"label",8),a.Dc(18,"Summary"),a.Pb(),a.Lb(19,"p-editor",10),a.Pb(),a.Qb(20,"div",11),a.Qb(21,"label",12),a.Dc(22,"Category"),a.Pb(),a.Lb(23,"p-dropdown",13),a.Pb(),a.Qb(24,"div",11),a.Qb(25,"label",12),a.Dc(26,"subCategory"),a.Pb(),a.Lb(27,"p-dropdown",14),a.Pb(),a.Qb(28,"div",11),a.Qb(29,"label",15),a.Dc(30,"Popularity"),a.Pb(),a.Lb(31,"p-multiSelect",16),a.Pb(),a.Qb(32,"div",11),a.Qb(33,"label",17),a.Dc(34,"Brand"),a.Pb(),a.Lb(35,"p-dropdown",18),a.Pb(),a.Qb(36,"div",19),a.Qb(37,"label",20),a.Dc(38,"Stock"),a.Pb(),a.Lb(39,"input",21),a.Pb(),a.Qb(40,"div",11),a.Qb(41,"label",22),a.Dc(42,"Color"),a.Pb(),a.Lb(43,"input",23),a.Pb(),a.Qb(44,"div",24),a.Qb(45,"label",25),a.Dc(46,"Remarks"),a.Pb(),a.Lb(47,"input",26),a.Pb(),a.Qb(48,"div",27),a.Lb(49,"p-checkbox",28),a.Qb(50,"label",29),a.Dc(51,"New Piece"),a.Pb(),a.Pb(),a.Ob(52,30),a.Qb(53,"div",24),a.Qb(54,"label",31),a.Dc(55,"Price"),a.Pb(),a.Lb(56,"p-inputNumber",32),a.Pb(),a.Qb(57,"div",24),a.Qb(58,"label",33),a.Dc(59,"Discount"),a.Pb(),a.Lb(60,"p-inputNumber",34),a.Pb(),a.Qb(61,"div",24),a.Qb(62,"label",35),a.Dc(63,"Final Price"),a.Pb(),a.Lb(64,"p-inputNumber",36),a.Pb(),a.Nb(),a.Bc(65,q,2,0,"h3",37),a.Bc(66,j,2,0,"p-fileUpload",38),a.Qb(67,"h3",39),a.Dc(68,"Specification"),a.Pb(),a.Lb(69,"br"),a.Ob(70,40),a.Bc(71,$,13,1,"ng-container",41),a.Nb(),a.Qb(72,"div",42),a.Lb(73,"button",43),a.Lb(74,"button",44),a.Bc(75,W,1,0,"button",45),a.Pb(),a.Pb()),2&e&&(a.zb(3),a.ic("formGroup",t.laptopForm),a.zb(16),a.zc(a.jc(17,J)),a.zb(4),a.ic("options",t.categoryOption),a.zb(4),a.ic("options",t.subCategoryOption),a.zb(4),a.ic("showHeader",!1)("options",t.popularityOption),a.zb(4),a.ic("options",t.brandOption),a.zb(21),a.ic("showButtons",!1),a.zb(4),a.ic("showButtons",!0)("min",0)("max",100),a.zb(5),a.ic("ngIf",!t.isEditMode),a.zb(1),a.ic("ngIf",!t.isEditMode),a.zb(5),a.ic("ngForOf",t.specification.controls),a.zb(2),a.ic("disabled",t.laptopForm.invalid),a.zb(2),a.ic("ngIf",t.isEditMode))},directives:[v.a,n.v,n.l,n.e,n.a,n.k,n.d,b.a,P.a,Q.a,S.a,D.a,F.a,n.f,L.a,i.m,i.l,p.b,N.a,l.e,z],styles:[".ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}"]}),e})();function Z(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",14),a.Qb(2,"div",15),a.Qb(3,"label",16),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",17),a.Pb(),a.Qb(6,"div",15),a.Qb(7,"label",16),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",18),a.Pb(),a.Qb(10,"div",19),a.Qb(11,"button",20),a.Xb("click",(function(){return a.uc(e),a.ac().addFormArray("popularity")})),a.Pb(),a.Qb(12,"button",21),a.Xb("click",(function(){a.uc(e);const o=t.index;return a.ac().removeFormArray("popularity",o)})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e),a.zb(2),a.ic("for",e),a.zb(4),a.ic("for",e+"value")}}function ee(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",14),a.Qb(2,"div",15),a.Qb(3,"label",16),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",17),a.Pb(),a.Qb(6,"div",15),a.Qb(7,"label",16),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",18),a.Pb(),a.Qb(10,"div",19),a.Qb(11,"button",20),a.Xb("click",(function(){return a.uc(e),a.ac().addFormArray("brand")})),a.Pb(),a.Qb(12,"button",21),a.Xb("click",(function(){a.uc(e);const o=t.index;return a.ac().removeFormArray("brand",o)})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e),a.zb(2),a.ic("for",e),a.zb(4),a.ic("for",e+"value")}}function te(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",14),a.Qb(2,"div",15),a.Qb(3,"label",16),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",17),a.Pb(),a.Qb(6,"div",15),a.Qb(7,"label",16),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",22),a.Pb(),a.Qb(10,"div",19),a.Qb(11,"button",20),a.Xb("click",(function(){return a.uc(e),a.ac().addFormArray("os")})),a.Pb(),a.Qb(12,"button",21),a.Xb("click",(function(){a.uc(e);const o=t.index;return a.ac().removeFormArray("os",o)})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e),a.zb(2),a.ic("for",e),a.zb(4),a.ic("for",e+"value")}}function oe(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",14),a.Qb(2,"div",15),a.Qb(3,"label",16),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",17),a.Pb(),a.Qb(6,"div",15),a.Qb(7,"label",16),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",22),a.Pb(),a.Qb(10,"div",19),a.Qb(11,"button",20),a.Xb("click",(function(){return a.uc(e),a.ac().addFormArray("processor")})),a.Pb(),a.Qb(12,"button",21),a.Xb("click",(function(){a.uc(e);const o=t.index;return a.ac().removeFormArray("processor",o)})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e),a.zb(2),a.ic("for",e),a.zb(4),a.ic("for",e+"value")}}function ie(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",14),a.Qb(2,"div",15),a.Qb(3,"label",16),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",17),a.Pb(),a.Qb(6,"div",15),a.Qb(7,"label",16),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",22),a.Pb(),a.Qb(10,"div",19),a.Qb(11,"button",20),a.Xb("click",(function(){return a.uc(e),a.ac().addFormArray("screenSize")})),a.Pb(),a.Qb(12,"button",21),a.Xb("click",(function(){a.uc(e);const o=t.index;return a.ac().removeFormArray("screenSize",o)})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e),a.zb(2),a.ic("for",e),a.zb(4),a.ic("for",e+"value")}}function re(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",14),a.Qb(2,"div",15),a.Qb(3,"label",16),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",17),a.Pb(),a.Qb(6,"div",15),a.Qb(7,"label",16),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",22),a.Pb(),a.Qb(10,"div",19),a.Qb(11,"button",20),a.Xb("click",(function(){return a.uc(e),a.ac().addFormArray("memory")})),a.Pb(),a.Qb(12,"button",21),a.Xb("click",(function(){a.uc(e);const o=t.index;return a.ac().removeFormArray("memory",o)})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e),a.zb(2),a.ic("for",e),a.zb(4),a.ic("for",e+"value")}}function ae(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",14),a.Qb(2,"div",15),a.Qb(3,"label",16),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",17),a.Pb(),a.Qb(6,"div",15),a.Qb(7,"label",16),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",22),a.Pb(),a.Qb(10,"div",19),a.Qb(11,"button",20),a.Xb("click",(function(){return a.uc(e),a.ac().addFormArray("hardDisk")})),a.Pb(),a.Qb(12,"button",21),a.Xb("click",(function(){a.uc(e);const o=t.index;return a.ac().removeFormArray("hardDisk",o)})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e),a.zb(2),a.ic("for",e),a.zb(4),a.ic("for",e+"value")}}function ne(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",23),a.Xb("click",(function(){return a.uc(e),a.ac().handleDelete()})),a.Pb()}}let ce=(()=>{class e{constructor(e,t,o,i,r){this.formBuilder=e,this.activatedroute=t,this.firestore=o,this.messageService=i,this.service=r,this.isEditMode=!1,this.dropForm=e.group({popularity:e.array([e.group({label:[""],value:[""]})]),brand:e.array([e.group({label:[""],value:[""]})]),os:e.array([e.group({label:[""],value:[""]})]),processor:e.array([e.group({label:[""],value:[""]})]),screenSize:e.array([e.group({label:[""],value:[""]})]),hardDisk:e.array([e.group({label:[""],value:[""]})]),memory:e.array([e.group({label:[""],value:[""]})])})}ngOnInit(){console.log(this.activatedroute.url),"/admin/edit-lapDropDown"===this.activatedroute.url&&(this.isEditMode=!0,this.service.product$.subscribe(e=>{console.log(e),this.dropForm.reset(),e&&Object.keys(e).forEach(t=>{console.log(t),this[t].removeAt(0),e[t].forEach(e=>{this[t].push(this.formBuilder.group({label:e.label,value:e.value}))})})}),console.log(history.state))}createLaptop(){const e=this.dropForm.getRawValue();return console.log(e),this.isEditMode?(console.log(e,"final",history.state.hasOwnProperty("display_name")),this.firestore.doc("options/laptop").update(e).then(e=>{this.messageService.add({severity:"success",summary:"Successfully Updated"}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))):this.firestore.collection("options").doc("laptop").set(e).then(e=>{this.messageService.add({severity:"success",summary:"Successfully Created"}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))}get popularity(){return this.dropForm.get("popularity")}get brand(){return this.dropForm.get("brand")}get os(){return this.dropForm.get("os")}get processor(){return this.dropForm.get("processor")}get screenSize(){return this.dropForm.get("screenSize")}get memory(){return this.dropForm.get("memory")}get hardDisk(){return this.dropForm.get("hardDisk")}newSpec(){return this.formBuilder.group({label:"",value:""})}addFormArray(e){this[e].push(this.newSpec())}removeFormArray(e,t){this[e].controls.length>1&&this[e].removeAt(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(n.b),a.Kb(r.b),a.Kb(c.a),a.Kb(l.c),a.Kb(s.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-add-laptop-dropdown"]],features:[a.yb([l.c])],decls:40,vars:10,consts:[[1,"p-fluid","p-formgrid","p-grid",3,"formGroup","ngSubmit"],[1,"p-col-12"],["formGroupName","popularity"],[4,"ngFor","ngForOf"],["formGroupName","brand"],["formGroupName","os"],["formGroupName","processor"],["formGroupName","screenSize"],["formGroupName","memory"],["formGroupName","hardDisk"],[1,"p-d-flex","p-col-12"],["pButton","","pRipple","","type","submit","label","Submit",1,"p-button-raised","p-mr-3",3,"disabled"],["pButton","","pRipple","","type","button","label","Clear",1,"p-button-raised","p-button-danger","p-mr-3"],["pButton","","pRipple","","type","button","label","Delete","class","p-button-raised p-button-danger ",3,"click",4,"ngIf"],[1,"p-grid","p-col-12",3,"formGroupName"],[1,"p-field","p-col-12","p-md-4"],[3,"for"],["formControlName","label","type","text","pInputText",""],["formControlName","value","type","text","pInputText",""],[1,"p-field","p-col-12","p-md-4","p-as-end"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-success","p-mr-3",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-danger",3,"click"],["formControlName","value","type","text","pInputText","",2,"width","100%"],["pButton","","pRipple","","type","button","label","Delete",1,"p-button-raised","p-button-danger",3,"click"]],template:function(e,t){1&e&&(a.Qb(0,"form",0),a.Xb("ngSubmit",(function(){return t.createLaptop()})),a.Qb(1,"h3",1),a.Dc(2,"Popularity"),a.Pb(),a.Lb(3,"br"),a.Ob(4,2),a.Bc(5,Z,13,3,"ng-container",3),a.Nb(),a.Qb(6,"h3",1),a.Dc(7,"Brand"),a.Pb(),a.Lb(8,"br"),a.Ob(9,4),a.Bc(10,ee,13,3,"ng-container",3),a.Nb(),a.Qb(11,"h3",1),a.Dc(12,"Operating System"),a.Pb(),a.Lb(13,"br"),a.Ob(14,5),a.Bc(15,te,13,3,"ng-container",3),a.Nb(),a.Qb(16,"h3",1),a.Dc(17,"Processor"),a.Pb(),a.Lb(18,"br"),a.Ob(19,6),a.Bc(20,oe,13,3,"ng-container",3),a.Nb(),a.Qb(21,"h3",1),a.Dc(22,"Screen Size"),a.Pb(),a.Lb(23,"br"),a.Ob(24,7),a.Bc(25,ie,13,3,"ng-container",3),a.Nb(),a.Qb(26,"h3",1),a.Dc(27,"Memory"),a.Pb(),a.Lb(28,"br"),a.Ob(29,8),a.Bc(30,re,13,3,"ng-container",3),a.Nb(),a.Qb(31,"h3",1),a.Dc(32,"Hard Disk"),a.Pb(),a.Lb(33,"br"),a.Ob(34,9),a.Bc(35,ae,13,3,"ng-container",3),a.Nb(),a.Qb(36,"div",10),a.Lb(37,"button",11),a.Lb(38,"button",12),a.Bc(39,ne,1,0,"button",13),a.Pb(),a.Pb()),2&e&&(a.ic("formGroup",t.dropForm),a.zb(5),a.ic("ngForOf",t.popularity.controls),a.zb(5),a.ic("ngForOf",t.brand.controls),a.zb(5),a.ic("ngForOf",t.os.controls),a.zb(5),a.ic("ngForOf",t.processor.controls),a.zb(5),a.ic("ngForOf",t.screenSize.controls),a.zb(5),a.ic("ngForOf",t.memory.controls),a.zb(5),a.ic("ngForOf",t.hardDisk.controls),a.zb(2),a.ic("disabled",t.dropForm.invalid),a.zb(2),a.ic("ngIf",t.isEditMode))},directives:[n.v,n.l,n.e,n.f,i.l,p.b,i.m,n.a,n.k,n.d,b.a],styles:[""]}),e})();function le(e,t){1&e&&(a.Qb(0,"h3",45),a.Dc(1,"Image Upload"),a.Pb())}function se(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",80),a.Qb(1,"app-upload-image-task",81),a.Xb("imageUrl",(function(t){return a.uc(e),a.ac(5).pushImageUrl(t)})),a.Pb(),a.Pb()}if(2&e){const e=t.$implicit;a.zb(1),a.ic("file",e)}}function pe(e,t){if(1&e&&(a.Qb(0,"ul"),a.Bc(1,se,2,1,"div",79),a.Pb()),2&e){const e=a.ac(4);a.zb(1),a.ic("ngForOf",e.uploadedFiles)}}function be(e,t){if(1&e&&a.Bc(0,pe,2,1,"ul",78),2&e){const e=a.ac(3);a.ic("ngIf",e.uploadedFiles.length>0)}}function ue(e,t){if(1&e){const e=a.Rb();a.Qb(0,"p-fileUpload",76),a.Xb("uploadHandler",(function(t){return a.uc(e),a.ac(2).myUploader(t)})),a.Bc(1,be,1,1,"ng-template",77),a.Pb()}}function de(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",82),a.Qb(2,"div",23),a.Qb(3,"label",83),a.Dc(4,"Label"),a.Pb(),a.Lb(5,"input",84),a.Pb(),a.Qb(6,"div",23),a.Qb(7,"label",85),a.Dc(8,"Value"),a.Pb(),a.Lb(9,"input",86),a.Pb(),a.Qb(10,"div",87),a.Qb(11,"button",88),a.Xb("click",(function(){return a.uc(e),a.ac(2).addSpec()})),a.Pb(),a.Qb(12,"button",89),a.Xb("click",(function(){return a.uc(e),a.ac(2).removeSpec()})),a.Pb(),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index;a.zb(1),a.ic("formGroupName",e)}}function me(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",90),a.Xb("click",(function(){return a.uc(e),a.ac(2).handleDelete()})),a.Pb()}}function fe(e,t){if(1&e){const e=a.Rb();a.Qb(0,"form",2),a.Xb("ngSubmit",(function(){return a.uc(e),a.ac().createLaptop()})),a.Qb(1,"div",3),a.Qb(2,"label",4),a.Dc(3,"Name"),a.Pb(),a.Lb(4,"input",5),a.Pb(),a.Qb(5,"div",3),a.Qb(6,"label",6),a.Dc(7,"Display Name"),a.Pb(),a.Lb(8,"input",7),a.Pb(),a.Qb(9,"div",8),a.Qb(10,"label",9),a.Dc(11,"Description"),a.Pb(),a.Lb(12,"textarea",10),a.Pb(),a.Qb(13,"div",11),a.Qb(14,"label",12),a.Dc(15,"Category"),a.Pb(),a.Lb(16,"p-dropdown",13),a.Pb(),a.Qb(17,"div",3),a.Qb(18,"label",14),a.Dc(19,"Popularity"),a.Pb(),a.Lb(20,"p-multiSelect",15),a.Pb(),a.Qb(21,"div",11),a.Qb(22,"label",16),a.Dc(23,"Brand"),a.Pb(),a.Lb(24,"p-dropdown",17),a.Pb(),a.Qb(25,"div",18),a.Qb(26,"label",19),a.Dc(27,"Variant Model"),a.Pb(),a.Lb(28,"input",20),a.Pb(),a.Qb(29,"div",11),a.Qb(30,"label",21),a.Dc(31,"Color"),a.Pb(),a.Lb(32,"input",22),a.Pb(),a.Qb(33,"div",23),a.Qb(34,"label",24),a.Dc(35,"Operating System"),a.Pb(),a.Lb(36,"p-dropdown",25),a.Pb(),a.Ob(37,26),a.Qb(38,"div",23),a.Qb(39,"label",27),a.Dc(40,"Price"),a.Pb(),a.Lb(41,"p-inputNumber",28),a.Pb(),a.Qb(42,"div",23),a.Qb(43,"label",29),a.Dc(44,"Discount"),a.Pb(),a.Lb(45,"p-inputNumber",30),a.Pb(),a.Qb(46,"div",23),a.Qb(47,"label",31),a.Dc(48,"Final Price"),a.Pb(),a.Lb(49,"p-inputNumber",32),a.Pb(),a.Nb(),a.Qb(50,"div",23),a.Qb(51,"label",33),a.Dc(52,"Stock"),a.Pb(),a.Lb(53,"input",34),a.Pb(),a.Qb(54,"div",23),a.Qb(55,"label",35),a.Dc(56,"Remarks"),a.Pb(),a.Lb(57,"input",36),a.Pb(),a.Qb(58,"div",37),a.Lb(59,"p-checkbox",38),a.Qb(60,"label",39),a.Dc(61,"New Laptop"),a.Pb(),a.Pb(),a.Qb(62,"div",40),a.Lb(63,"p-checkbox",41),a.Qb(64,"label",42),a.Dc(65,"PickUpFromStoreEnabled"),a.Pb(),a.Pb(),a.Bc(66,le,2,0,"h3",43),a.Bc(67,ue,2,0,"p-fileUpload",44),a.Qb(68,"h3",45),a.Dc(69,"Specification"),a.Pb(),a.Ob(70,46),a.Qb(71,"div",11),a.Qb(72,"label",47),a.Dc(73,"Screen Resolution"),a.Pb(),a.Lb(74,"input",48),a.Pb(),a.Qb(75,"div",11),a.Qb(76,"label",49),a.Dc(77,"Graphics Card"),a.Pb(),a.Lb(78,"input",50),a.Pb(),a.Qb(79,"div",11),a.Qb(80,"label",51),a.Dc(81,"Processor"),a.Pb(),a.Lb(82,"p-dropdown",52),a.Pb(),a.Qb(83,"div",11),a.Qb(84,"label",53),a.Dc(85,"Manufacture Warranty"),a.Pb(),a.Lb(86,"input",54),a.Pb(),a.Qb(87,"div",11),a.Qb(88,"label",55),a.Dc(89,"Height"),a.Pb(),a.Lb(90,"input",56),a.Pb(),a.Qb(91,"div",11),a.Qb(92,"label",57),a.Dc(93,"Width"),a.Pb(),a.Lb(94,"input",58),a.Pb(),a.Qb(95,"div",11),a.Qb(96,"label",59),a.Dc(97,"Weight"),a.Pb(),a.Lb(98,"input",60),a.Pb(),a.Qb(99,"div",11),a.Qb(100,"label",61),a.Dc(101,"Screen Size"),a.Pb(),a.Lb(102,"p-dropdown",62),a.Pb(),a.Qb(103,"div",23),a.Qb(104,"label",63),a.Dc(105,"Memory"),a.Pb(),a.Lb(106,"p-dropdown",64),a.Pb(),a.Qb(107,"div",23),a.Qb(108,"label",65),a.Dc(109,"HardDisk"),a.Pb(),a.Lb(110,"p-dropdown",66),a.Pb(),a.Qb(111,"div",67),a.Lb(112,"p-checkbox",68),a.Qb(113,"label",69),a.Dc(114,"Touch Screen"),a.Pb(),a.Pb(),a.Nb(),a.Qb(115,"h3",45),a.Dc(116,"Other Specification"),a.Pb(),a.Ob(117,70),a.Bc(118,de,13,1,"ng-container",71),a.Nb(),a.Lb(119,"br"),a.Qb(120,"div",72),a.Lb(121,"button",73),a.Lb(122,"button",74),a.Bc(123,me,1,0,"button",75),a.Pb(),a.Pb()}if(2&e){const e=a.ac();a.ic("formGroup",e.laptopForm),a.zb(16),a.ic("options",e.categoryOption),a.zb(4),a.ic("showHeader",!1)("options",e.options.popularity),a.zb(4),a.ic("options",e.options.brand),a.zb(12),a.ic("options",e.options.os),a.zb(5),a.ic("showButtons",!1),a.zb(4),a.ic("showButtons",!0)("min",0)("max",100),a.zb(21),a.ic("ngIf",!e.isEditMode),a.zb(1),a.ic("ngIf",!e.isEditMode),a.zb(15),a.ic("options",e.options.processor),a.zb(20),a.ic("options",e.options.screenSize),a.zb(4),a.ic("options",e.options.memory),a.zb(4),a.ic("options",e.options.hardDisk),a.zb(8),a.ic("ngForOf",e.otherSpec.controls),a.zb(3),a.ic("disabled",e.laptopForm.invalid),a.zb(2),a.ic("ngIf",e.isEditMode)}}let he=(()=>{class e{constructor(e,t,o,i,r,a){this.formBuilder=e,this.formService=t,this.firestore=o,this.messageService=i,this.activatedroute=r,this.service=a,this.loading=!0,this.categoryOption=[{label:"Laptop",value:"laptop"},{label:"acccessories",value:"acccessories"}],this.isEditMode=!1,this.popularityOption=[{label:"Trending",value:"trending"},{label:"Popular",value:"popular"},{label:"Flash Sale",value:"flashSale"}],this.brandOption=[{label:"Apple",value:"Apple"},{label:"HP",value:"HP"},{label:"Dell",value:"Dell"},{label:"Lenovo",value:"Lenovo"},{label:"Samsung",value:"SAMSUNG"},{label:"Asus",value:"Asus"},{label:"Mi",value:"Mi"},{label:"Honor",value:"Honor"}],this.variantOption=[{name:"Arizona",code:"Arizona"},{name:"California",value:"California"},{name:"Florida",code:"Florida"},{name:"Ohio",code:"Ohio"},{name:"Washington",code:"Washington"}],this.uploadedFiles=[],this.isFirstImage=!0}ngOnInit(){this.service.product$.subscribe(e=>{e&&(this.loading=!1,this.options=e),console.log(e,"in lapt form")}),console.log(history.state,"---------------\x3e"),this.laptopForm=this.formService.createFormGroup(),history.state.hasOwnProperty("display_name")&&(this.isEditMode=!0,this.laptopForm.patchValue(history.state),this.laptopForm.removeControl("imageUrl"),this.otherSpec.removeAt(0),history.state.otherSpec.forEach(e=>{this.otherSpec.push(this.formBuilder.group({key:e.key,value:e.value}))})),console.log(this.laptopForm),this.laptopForm.valueChanges.subscribe(e=>{console.log(e,"form",this.laptopForm)});const e=this.laptopForm.get(["price","price"]).valueChanges,t=this.laptopForm.get(["price","discount"]).valueChanges;Object(g.a)([e,t]).subscribe(e=>{const[t,o]=e;if(t>0&&o>0){const e=t-t*o/100;this.laptopForm.get("price").patchValue({formattedValue:e}),console.log(e,"price")}else t>0&&0===o&&this.laptopForm.get("price").patchValue({formattedValue:t})})}myUploader(e){console.log(e);for(let t of e.files)this.uploadedFiles.push(t)}pushImageUrl(e){this.imageArray.push(this.formBuilder.control(e)),this.isFirstImage&&this.laptopForm.patchValue({displayImage:e}),this.isFirstImage=!1}get imageArray(){return this.laptopForm.get("imageUrl")}createLaptop(){const e=this.laptopForm.getRawValue();if(this.isEditMode){const t=h(e,["imageUrl","displayImage"]);return console.log(t,"final",history.state.hasOwnProperty("display_name")),this.firestore.doc("laptop/"+history.state.id).update(t).then(e=>{this.messageService.add({severity:"success",summary:"Successfully Updated",detail:t.name}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))}return this.firestore.collection("laptop").add(e).then(e=>{this.messageService.add({severity:"success",summary:"Successfully Created",detail:e.id}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))}handleDelete(){this.firestore.doc("laptop/"+history.state.id).delete().then(e=>{this.messageService.add({severity:"success",summary:"Successfully Deleted",detail:history.state.name}),setTimeout(()=>this.activatedroute.navigateByUrl("/admin"),2e3)}).catch((function(e){this.messageService.add({severity:"error",summary:"Error",detail:e}),console.error("Error adding document: ",e)}))}get otherSpec(){return this.laptopForm.get("otherSpec")}newSpec(){return this.formBuilder.group({key:"",value:""})}addSpec(){this.otherSpec.push(this.newSpec())}removeSpec(e){this.otherSpec.controls.length>1&&this.otherSpec.removeAt(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(n.b),a.Kb(y),a.Kb(c.a),a.Kb(l.c),a.Kb(r.b),a.Kb(s.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["admin-add-laptop-form"]],features:[a.yb([l.c])],decls:4,vars:1,consts:[[1,"p-card","p-p-3"],["class","p-fluid p-formgrid p-grid",3,"formGroup","ngSubmit",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid",3,"formGroup","ngSubmit"],[1,"p-field","p-col-12","p-md-6"],["for","name"],["id","name","formControlName","name","type","text","pInputText",""],["for","display_name"],["id","display_name","formControlName","display_name","type","text","pInputText",""],[1,"p-field","p-col-12"],["for","discription"],["id","discription","formControlName","discription","type","text","rows","4","pInputTextarea",""],[1,"p-field","p-col-12","p-md-3"],["for","category"],["inputId","category","formControlName","category","placeholder","Select",3,"options"],["for","popularity"],["inputId","popularity","formControlName","popularity","defaultLabel","Select",3,"showHeader","options"],["for","brand"],["inputId","brand","formControlName","brand","placeholder","Select",3,"options"],[1,"p-field","p-col-12","p-md-5"],["for","variantModel"],["id","variantModel","formControlName","variantModel","type","text","pInputText",""],["for","color"],["id","color","formControlName","color","type","text","pInputText",""],[1,"p-field","p-col-12","p-md-4"],["for","os"],["inputId","os","formControlName","os","placeholder","Select",3,"options"],["formGroupName","price"],["for","price"],["formControlName","price","mode","decimal","inputId","price",3,"showButtons"],["for","discount"],["formControlName","discount","mode","decimal","inputId","discount",3,"showButtons","min","max"],["for","formattedValue"],["formControlName","formattedValue","mode","currency","currency","INR","locale","en-IN","inputId","formattedValue"],["for","stock"],["id","stock","formControlName","stock","type","text","pInputText",""],["for","remarks"],["id","remarks","formControlName","remarks","type","text","pInputText",""],[1,"p-field-checkbox","p-col-1"],["binary","true","formControlName","isPreOrderEnabled","inputId","isPreOrderEnabled"],["for","isPreOrderEnabled"],[1,"p-field-checkbox","p-col-3"],["binary","true","formControlName","pickUpFromStoreEnabled","inputId","pickUpFromStoreEnabled"],["for","pickUpFromStoreEnabled"],["class","p-col-12",4,"ngIf"],["class","p-col-12","name","myfile[]","customUpload","true","multiple","multiple","accept","image/*","maxFileSize","1000000",3,"uploadHandler",4,"ngIf"],[1,"p-col-12"],["formGroupName","specification"],["for","resolution"],["formControlName","resolution","id","resolution","type","text","pInputText",""],["for","gpu"],["formControlName","gpu","id","gpu","type","text","pInputText",""],["for","processor"],["inputId","processor","formControlName","processor","placeholder","Select",3,"options"],["for","manufactureWarranty"],["formControlName","manufactureWarranty","id","manufactureWarranty","type","text","pInputText",""],["for","height"],["formControlName","height","id","height","type","text","pInputText",""],["for","width"],["formControlName","width","id","width","type","text","pInputText",""],["for","weight"],["formControlName","weight","id","weight","type","text","pInputText",""],["for","screenSize"],["inputId","screenSize","formControlName","screenSize","placeholder","Select",3,"options"],["for","memory"],["inputId","memory","formControlName","memory","placeholder","Select",3,"options"],["for","hardDisk"],["inputId","hardDisk","formControlName","hardDisk","placeholder","Select",3,"options"],[1,"p-field-checkbox","p-col-12","p-md-4"],["formControlName","touch","binary","true","inputId","touch"],["for","touch"],["formGroupName","otherSpec"],[4,"ngFor","ngForOf"],[1,"p-d-flex","p-col-12"],["pButton","","pRipple","","type","submit","label","Submit",1,"p-button-raised","p-mr-3",3,"disabled"],["pButton","","pRipple","","type","button","label","Clear",1,"p-button-raised","p-button-danger","p-mr-3"],["pButton","","pRipple","","type","button","label","Delete","class","p-button-raised p-button-danger ",3,"click",4,"ngIf"],["name","myfile[]","customUpload","true","multiple","multiple","accept","image/*","maxFileSize","1000000",1,"p-col-12",3,"uploadHandler"],["pTemplate","content"],[4,"ngIf"],["style","width: 100%;",4,"ngFor","ngForOf"],[2,"width","100%"],[3,"file","imageUrl"],[1,"p-grid","p-col-12",3,"formGroupName"],["for","key"],["id","key","formControlName","key","type","text","pInputText",""],["for","value"],["id","value","formControlName","value","type","text","pInputText","",2,"width","100%"],[1,"p-field","p-col-12","p-md-4","p-as-end"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-success","p-mr-3",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-danger",3,"click"],["pButton","","pRipple","","type","button","label","Delete",1,"p-button-raised","p-button-danger",3,"click"]],template:function(e,t){1&e&&(a.Lb(0,"p-toast"),a.Qb(1,"h3",0),a.Dc(2,"Add Laptop Details"),a.Pb(),a.Bc(3,fe,124,19,"form",1)),2&e&&(a.zb(3),a.ic("ngIf",!t.loading))},directives:[v.a,i.m,n.v,n.l,n.e,n.a,n.k,n.d,b.a,P.a,S.a,D.a,n.f,L.a,F.a,i.l,p.b,N.a,l.e,z],styles:[".ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}"]}),e})();var ge=o("3k5r");let ye=(()=>{class e{constructor(){}ngOnInit(){this.items=[{label:"Dashboard",routerLink:["../admin"]},{label:"Add Laptop",routerLink:["../admin/add-laptop"]},{label:"Add Accessories",routerLink:["../admin/add-accessories"]},{label:"Add Desktop",routerLink:["../admin/add-desktop"]},{label:"Edit Accessories Option",routerLink:["../admin/edit-acc-dropDown"]},{label:"Edit Laptop Option",routerLink:["../admin/edit-lapDropDown"]},{label:"Request History"},{label:"Users",icon:"pi pi-fw pi-user",items:[{label:"New",icon:"pi pi-fw pi-user-plus"},{label:"Delete",icon:"pi pi-fw pi-user-minus"},{label:"Search",icon:"pi pi-fw pi-users",items:[{label:"Filter",icon:"pi pi-fw pi-filter",items:[{label:"Print",icon:"pi pi-fw pi-print"}]},{icon:"pi pi-fw pi-bars",label:"List"}]}]}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-admin-sidebar"]],decls:1,vars:2,consts:[[3,"model","viewportHeight"]],template:function(e,t){1&e&&a.Lb(0,"p-slideMenu",0),2&e&&a.ic("model",t.items)("viewportHeight",500)},directives:[ge.a],styles:[""]}),e})(),ve=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-admin"]],features:[a.yb([l.c])],decls:6,vars:0,consts:[[1,"p-grid","p-fluid","p-m-3"],[1,"p-col-12","p-md-2","p-d-none","p-d-md-block"],[1,"p-col-12","p-md-10"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Lb(2,"app-admin-sidebar"),a.Pb(),a.Qb(3,"div",2),a.Lb(4,"p-toast"),a.Lb(5,"router-outlet"),a.Pb(),a.Pb())},directives:[ye,v.a,r.g],styles:[""]}),e})();var Pe=o("rEr+");function Qe(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",6),a.Dc(1," Products "),a.Qb(2,"span",7),a.Lb(3,"i",8),a.Qb(4,"input",9),a.Xb("input",(function(t){return a.uc(e),a.ac(),a.tc(1).filterGlobal(t.target.value,"contains")})),a.Pb(),a.Pb(),a.Pb()}}function De(e,t){1&e&&(a.Qb(0,"tr"),a.Qb(1,"th",10),a.Dc(2,"Name"),a.Pb(),a.Qb(3,"th"),a.Dc(4,"Image"),a.Pb(),a.Qb(5,"th"),a.Dc(6,"Price"),a.Pb(),a.Qb(7,"th"),a.Dc(8,"Discount Price"),a.Pb(),a.Qb(9,"th"),a.Dc(10,"Category"),a.Pb(),a.Qb(11,"th"),a.Dc(12,"color"),a.Pb(),a.Qb(13,"th"),a.Dc(14,"stock"),a.Pb(),a.Qb(15,"th"),a.Dc(16,"Setting"),a.Pb(),a.Pb())}function Se(e,t){if(1&e){const e=a.Rb();a.Qb(0,"tr"),a.Qb(1,"td"),a.Dc(2),a.Pb(),a.Qb(3,"td"),a.Lb(4,"img",11),a.Pb(),a.Qb(5,"td",12),a.Dc(6),a.bc(7,"currency"),a.Pb(),a.Qb(8,"td"),a.Dc(9),a.bc(10,"currency"),a.Pb(),a.Qb(11,"td"),a.Dc(12),a.Pb(),a.Qb(13,"td"),a.Dc(14),a.Pb(),a.Qb(15,"td",13),a.Dc(16),a.Pb(),a.Qb(17,"td",13),a.Qb(18,"button",14),a.Xb("click",(function(){a.uc(e);const o=t.$implicit;return a.ac().editLaptop(o)})),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=t.$implicit;a.zb(2),a.Ec(e.display_name),a.zb(2),a.ic("src",e.displayImage,a.wc)("alt",e.displayImage),a.zb(2),a.Ec(a.dc(7,8,null==e.price?null:e.price.price,"INR")),a.zb(3),a.Ec(a.dc(10,11,null==e.price?null:e.price.formattedValue,"INR")),a.zb(3),a.Ec(e.category),a.zb(2),a.Ec(e.color),a.zb(2),a.Ec(e.stock)}}function ke(e,t){if(1&e&&(a.Qb(0,"div",6),a.Dc(1),a.Pb()),2&e){const e=a.ac();a.zb(1),a.Fc(" In total there are ",e.products?e.products.length:0," products. ")}}const Fe=function(){return["display_name","popularity","brand"]},Le=[{path:"",component:ve,children:[{path:"",component:(()=>{class e{constructor(e,t){this.firestore=e,this.router=t,this.products=[]}ngOnInit(){this.getLaptop().subscribe(e=>{console.log(e),this.products=this.products.concat(e.map(e=>Object.assign({},{id:e.payload.doc.id},e.payload.doc.data())))}),this.firestore.collection("accessories").snapshotChanges().subscribe(e=>{console.log(e),this.products=this.products.concat(e.map(e=>Object.assign({},{id:e.payload.doc.id},e.payload.doc.data())))}),this.firestore.collection("desktop").snapshotChanges().subscribe(e=>{console.log(e),this.products=this.products.concat(e.map(e=>{const t=Object.assign({},{id:e.payload.doc.id},e.payload.doc.data());return console.log(t,"-----------<<<<<<<<<<<<<<"),t}))})}getLaptop(){return this.firestore.collection("laptop").snapshotChanges()}editLaptop(e){this.router.navigateByUrl("laptop"===e.category?"/admin/edit-laptop":"desktop"===e.category?"/admin/edit-desktop":"/admin/edit-accessories",{state:Object.assign({},e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(c.a),a.Kb(r.b))},e.\u0275cmp=a.Eb({type:e,selectors:[["admin-dashboard"]],decls:6,vars:4,consts:[[3,"value","rowHover","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-input-icon-left",2,"max-width","300px"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Global Search",3,"input"],[2,"width","250px"],["width","100",1,"p-shadow-4",3,"src","alt"],[2,"text-align","right"],[2,"text-align","center"],["pButton","","type","button","icon","pi pi-cog",1,"p-button-secondary",3,"click"]],template:function(e,t){1&e&&(a.Qb(0,"p-table",0,1),a.Bc(2,Qe,5,0,"ng-template",2),a.Bc(3,De,17,0,"ng-template",3),a.Bc(4,Se,19,14,"ng-template",4),a.Bc(5,ke,2,1,"ng-template",5),a.Pb()),2&e&&a.ic("value",t.products)("rowHover",!0)("globalFilterFields",a.jc(3,Fe))},directives:[Pe.a,l.e,b.a,p.b],pipes:[i.d],styles:[""]}),e})(),pathMatch:"full"},{path:"add-laptop",component:he},{path:"edit-laptop",component:he,data:{}},{path:"add-accessories",component:X},{path:"edit-accessories",component:X,data:{}},{path:"add-desktop",component:Y},{path:"edit-desktop",component:Y,data:{}},{path:"add-lapDropDown",component:ce},{path:"edit-lapDropDown",component:ce,data:{}},{path:"edit-acc-dropDown",component:f,data:{}}]}];let Ne=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[r.f.forChild(Le)],r.f]}),e})();var Ie=o("1iun"),xe=o("tk/3");let we=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[i.c,Ne,n.g,n.q,Ie.a,xe.b]]}),e})()}}]);